# P6.2: Bundle Size Optimization

## Problem

The production bundle is 1,297 KB (1.3MB) after minification, triggering Vite's warning:

```
(!) Some chunks are larger than 500 kB after minification. Consider:
- Using dynamic import() to code-split the application
- Use build.rollupOptions.output.manualChunks to improve chunking
```

## Goal

Reduce initial bundle size to improve page load performance, especially on slower connections.

## Tasks

- [ ] Analyze bundle composition (what's taking up space)
- [ ] Identify candidates for code-splitting:
  - Route-based splitting (lazy load pages)
  - Heavy dependencies (KaTeX, framer-motion, etc.)
- [ ] Implement dynamic imports for non-critical routes
- [ ] Configure `manualChunks` in Vite for vendor splitting
- [ ] Measure before/after bundle sizes
- [ ] Test that lazy-loaded routes work correctly

## Acceptance Criteria

- [ ] Main bundle under 500 KB
- [ ] No visual regressions or broken routes
- [ ] Lighthouse performance score maintained or improved

## Notes

- KaTeX fonts alone are ~60+ files in the build output
- Consider if KaTeX is needed on all pages or can be lazy-loaded
- `react-markdown` with plugins may be a heavy dependency

## Priority

Low - Performance optimization, not blocking functionality
